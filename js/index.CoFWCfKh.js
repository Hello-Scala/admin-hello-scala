import{b as e,h as t,d as a,a as s,A as l,b2 as i,b3 as r,c as o,e as n,n as c,g as d,f as u,a1 as p,t as f,Z as m,l as v,C as g,_ as h,s as x,aO as y,aP as b,aA as _,r as w,o as C,au as j,Y as S,w as E,aQ as D,b4 as L,E as k}from"./index.hSVJG0U0.js";import{E as z}from"./el-dialog.iJPKneZ6.js";import V from"./TagCloud.DW2k9zOT.js";import{E as A,a as O}from"./el-table-column.tYJV2WRO.js";import"./el-checkbox.DgUZZZMm.js";import"./el-tooltip.l0sNRNKZ.js";import"./el-scrollbar.k8EFI4ph.js";/* empty css               */import{E as T}from"./el-link.BDbZ9efC.js";import{E as I}from"./el-card.IGqWm6Oe.js";import{E as M}from"./el-row.DGilv3Xf.js";import{_ as $}from"./index.DPA2Bggz.js";import{E as F}from"./el-col.CvcLrFpt.js";import{_ as B}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{g as P,a as q}from"./index.DCc6z2Ue.js";import{i as H}from"./index.B6oudZUb.js";import"./refs.BN6nqHI3.js";import"./isUndefined.DgmxjSXK.js";import"./_baseIteratee.CyDzvnt-.js";import"./_initCloneObject.B4nij1lJ.js";import"./isEqual.CIF4eulG.js";import"./index.DFn5aamG.js";const U=e({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:t([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:t([String,Object,Array])}}),W=a({name:"ElStatistic"});const Z=x(h(a({...W,props:U,setup(e,{expose:t}){const a=e,h=s("statistic"),x=l((()=>{const{value:e,formatter:t,precision:s,decimalSeparator:l,groupSeparator:o}=a;if(i(t))return t(e);if(!r(e))return e;let[n,c=""]=String(e).split(".");return c=c.padEnd(s,"0").slice(0,s>0?s:0),n=n.replace(/\B(?=(\d{3})+(?!\d))/g,o),[n,c].join(c?l:"")}));return t({displayValue:x}),(e,t)=>(o(),n("div",{class:c(d(h).b())},[e.$slots.title||e.title?(o(),n("div",{key:0,class:c(d(h).e("head"))},[u(e.$slots,"title",{},(()=>[p(f(e.title),1)]))],2)):m("v-if",!0),v("div",{class:c(d(h).e("content"))},[e.$slots.prefix||e.prefix?(o(),n("div",{key:0,class:c(d(h).e("prefix"))},[u(e.$slots,"prefix",{},(()=>[v("span",null,f(e.prefix),1)]))],2)):m("v-if",!0),v("span",{class:c(d(h).e("number")),style:g(e.valueStyle)},f(d(x)),7),e.$slots.suffix||e.suffix?(o(),n("div",{key:1,class:c(d(h).e("suffix"))},[u(e.$slots,"suffix",{},(()=>[v("span",null,f(e.suffix),1)]))],2)):m("v-if",!0)],2)],2))}}),[["__file","statistic.vue"]])),G={},N=e=>(y("data-v-3126f77d"),e=e(),b(),e),R={href:"",target:"_blank",class:"github-corner","aria-label":"View source on Github"},Y={width:"80",height:"80",viewBox:"0 0 250 250",style:{color:"#fff",fill:"#40c9c6"},"aria-hidden":"true"},J=[N((()=>v("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"},null,-1))),N((()=>v("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{"transform-origin":"130px 106px"},class:"octo-arm"},null,-1))),N((()=>v("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",class:"octo-body"},null,-1)))];const K=B(G,[["render",function(e,t){return o(),n("a",R,[(o(),n("svg",Y,J))])}],["__scopeId","data-v-3126f77d"]]),Q=e=>(y("data-v-bfe70952"),e=e(),b(),e),X={class:"dashboard-container"},ee={class:"flex h-full items-center"},te=["src"],ae={class:"text-sm text-gray"},se={class:"flex h-full items-center justify-around"},le={class:"flex items-center"},ie=Q((()=>v("span",{class:"text-[16px] ml-1"},"文章数",-1))),re={class:"flex items-center"},oe=Q((()=>v("span",{class:"text-[16px] ml-1"},"总访客数",-1))),ne={class:"flex items-center"},ce=Q((()=>v("span",{class:"text-[16px] ml-1"},"用户量",-1))),de={class:"flex items-center"},ue=Q((()=>v("span",{class:"text-[16px] ml-1"},"留言数",-1))),pe=Q((()=>v("div",{id:"container",style:{width:"100%",height:"300px"}},null,-1))),fe=Q((()=>v("div",{class:"e-title"},"文章阅读量排行",-1))),me=Q((()=>v("div",{class:"e-title"},"文章分类统计",-1))),ve=Q((()=>v("div",{class:"chart-wrapper"},[v("div",{id:"categoryChart",class:"chart",style:{height:"310px",width:"100%"}})],-1))),ge=Q((()=>v("div",{class:"e-title"},"文章标签",-1))),he=Q((()=>v("div",{class:"e-title"},"一周访问量",-1))),xe=Q((()=>v("div",{id:"access",class:"chart",style:{height:"350px",width:"100%"}},null,-1))),ye=["innerHTML"],be=B(a({name:"Dashboard",inheritAttrs:!1,__name:"index",setup(e){const t=_(),a=new Date,s=w(),i=w(),r=w(),c=w(),u=w([]),m=w({}),g=w("https://admin.helloscala.com/"),h=w(!1),x=l((()=>{const e=a.getHours();return e>=6&&e<8?"晨起披衣出草堂，轩窗已自喜微凉🌅！":e>=8&&e<12?"上午好，"+t.user.nickname+"！":e>=12&&e<18?"下午好，"+t.user.nickname+"！":e>=18&&e<24?"晚上好，"+t.user.nickname+"！":"偷偷向银河要了一把碎星，只等你闭上眼睛撒入你的梦中，晚安🌛！"}));function y(e){i.value=L(H(document.getElementById("access")));let t=w({createData:0,countData:0,accessData:0}),a=[],s=[],l=[];e.forEach((e=>{a.push(e.createTime),s.push(e.ip),l.push(e.access)})),t.value.createData=a,t.value.countData=s,t.value.accessData=l,function(e){let t=e.createData,a=e.countData,s=e.accessData;i.value.setOption({xAxis:{data:t,boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["独立用户(UV)","访问量(PV)"]},series:[{name:"独立用户(UV)",smooth:!0,type:"line",itemStyle:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}},data:a,animationDuration:2800,animationEasing:"quadraticOut"},{name:"访问量(PV)",smooth:!0,type:"line",itemStyle:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}},data:s,animationDuration:2800,animationEasing:"quadraticOut"}]});let l=i.value;window.addEventListener("resize",(function(){l.resize()}))}(t.value)}return C((()=>{P().then((e=>{c.value=e.data.dashboard,u.value=e.data.tagsList,r.value=e.data.articles,function(e,t){let a=L(H(document.getElementById("container"))),s={title:{top:30,text:"文章贡献度",subtext:"一年内博客提交的数量",left:"center",color:"#000"},tooltip:{trigger:"item",formatter:function(e){return e.data[0]+"<br>文章数："+e.data[1]}},legend:{top:"30",left:"100",data:["文章数"],color:"#000"},calendar:[{top:100,left:"center",range:e,splitLine:{show:!0,lineStyle:{color:"#D3D3D3",width:4,type:"solid"}},yearLabel:{show:!1},dayLabel:{nameMap:["周日","周一","周二","周三","周四","周五","周六"],color:"#000",firstDay:1},monthLabel:{nameMap:"cn",color:"#000"},itemStyle:{color:"#ffffff",borderWidth:1,borderColor:"#D3D3D3"}}],series:[{name:"文章数",type:"scatter",coordinateSystem:"calendar",data:t,symbolSize:function(e){if(0===e[1])return e[1];{let t=8+2*e[1];return t>18&&(t=18),t}},itemStyle:{color:"#2ec7c9"}}]};a.setOption(s),window.addEventListener("resize",(function(){a.resize()}))}(e.data.contribute.contributeDate,e.data.contribute.blogContributeCount),function(e,t){s.value=L(H(document.getElementById("categoryChart"))),s.value.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:e},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:t,animationEasing:"cubicInOut",animationDuration:2600}]});let a=s.value;window.addEventListener("resize",(function(){a.resize()}))}(e.data.categoryList.categoryList,e.data.categoryList.result),y(e.data.userAccess),h.value=!0})),q().then((e=>{m.value=e.data}))})),(e,a)=>{const s=K,l=F,i=$,y=Z,b=j("View"),_=k,w=M,C=I,L=T,B=A,P=O,q=V,H=z;return o(),n("div",X,[S(s,{class:"github-corner"}),S(C,{shadow:"never"},{default:E((()=>[S(w,{justify:"space-between"},{default:E((()=>[S(l,{span:18,xs:24},{default:E((()=>[v("div",ee,[v("img",{class:"w-20 h-20 mr-5 rounded-full",src:d(t).user.avatar+"?imageView2/1/w/80/h/80"},null,8,te),v("div",null,[v("p",null,f(d(x)),1),v("p",ae,f(d(t).user.intro?d(t).user.intro:"以后的你会感谢现在努力的你"),1)])])])),_:1}),S(l,{span:6,xs:24},{default:E((()=>[v("div",se,[S(y,{value:d(m).article},{title:E((()=>[v("div",le,[S(i,{"icon-class":"todolist",size:"20px"}),ie])])),_:1},8,["value"]),S(y,{value:d(m).viewsCount},{title:E((()=>[v("div",re,[S(_,{size:"20px",color:"red"},{default:E((()=>[S(b)])),_:1}),oe])])),_:1},8,["value"]),S(y,{value:d(m).user},{title:E((()=>[v("div",ne,[S(i,{"icon-class":"visit",size:"20px"}),ce])])),_:1},8,["value"]),S(y,{value:d(m).message},{title:E((()=>[v("div",de,[S(i,{"icon-class":"message",size:"20px"}),ue])])),_:1},8,["value"])])])),_:1})])),_:1})])),_:1}),S(w,{class:"mt-3"},{default:E((()=>[S(C,{style:{padding:"16px 16px 0",width:"100%"}},{default:E((()=>[pe])),_:1})])),_:1}),S(w,{gutter:10,class:"mt-3"},{default:E((()=>[S(l,{sm:24,lg:8,class:"mb-2"},{default:E((()=>[S(C,null,{default:E((()=>[fe,S(P,{data:d(r),style:{"padding-top":"25px"},fit:""},{default:E((()=>[S(B,{label:"标题",width:"400"},{default:E((e=>[S(L,{style:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},underline:!1,href:d(g)+"article/"+e.row.id,target:"_blank"},{default:E((()=>[p(f(e.row.title),1)])),_:2},1032,["href"])])),_:1}),S(B,{label:"阅读量",prop:"quantity",align:"center"})])),_:1},8,["data"])])),_:1})])),_:1}),S(l,{xs:24,sm:12,lg:8,class:"mb-2"},{default:E((()=>[S(C,null,{default:E((()=>[me,ve])),_:1})])),_:1}),S(l,{xs:24,sm:12,lg:8,class:"mb-2"},{default:E((()=>[S(C,null,{default:E((()=>[ge,S(q,{data:d(u)},null,8,["data"])])),_:1})])),_:1})])),_:1}),S(w,{class:"mt-3"},{default:E((()=>[S(C,{style:{width:"100%"}},{default:E((()=>[he,xe])),_:1})])),_:1}),S(H,{title:"通知","close-on-click-modal":!1,modelValue:d(h),"onUpdate:modelValue":a[0]||(a[0]=e=>D(h)?h.value=e:null),center:""},{default:E((()=>[v("span",{innerHTML:d(c)},null,8,ye)])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-bfe70952"]]);export{be as default};
