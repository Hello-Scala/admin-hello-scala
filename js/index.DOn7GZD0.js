import{d as e,aA as a,aB as s,av as l,r as o,aS as r,a$ as t,A as n,aJ as i,K as c,o as d,c as p,e as u,l as m,Y as g,g as f,aQ as h,aT as v,aU as w,w as _,t as x,aF as j,a1 as y,X as b,ab as C,W as V,a3 as K,b0 as $,aM as q,$ as A,a0 as E,aO as k,aP as R}from"./index.fnbw5y5k.js";import{E as U}from"./el-card.Q-ANbuzj.js";import{E as z,a as D}from"./el-form.CXzYbvvU.js";import{E as O}from"./el-image-viewer.UPfxC6pg.js";import"./el-tooltip.l0sNRNKZ.js";import{E as T}from"./el-scrollbar.BK4RbwYQ.js";import"./el-form-item.l0sNRNKZ.js";import{_ as B}from"./index.D_4z6Df7.js";/* empty css               */import{_ as F}from"./index.vue_vue_type_script_setup_true_lang.BKzBBzFz.js";import{E as I}from"./el-switch._aWYCSIc.js";import{E as L}from"./index.BWcfXwkj.js";import{_ as M}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./castArray.BfXkOhWC.js";import"./_initCloneObject.CCC-Ul-V.js";import"./position.27R3wIeo.js";import"./isUndefined.DgmxjSXK.js";import"./el-dropdown-item.CX8Riy7f.js";import"./dropdown.qwssy0Br.js";import"./refs.VcmB5KbP.js";const S={class:"login-container"},G={class:"absolute-lt flex-x-end p-3 w-full"},H={class:"text-center relative"},P={class:"flex-y-center w-full"},Q={class:"flex-y-center w-full"},J={class:"flex-y-center w-full"},N={class:"mt-10 text-sm"},W={class:"ml-4"},X={class:"absolute bottom-1 text-[10px] text-center"},Y=[(e=>(k("data-v-f30c2f35"),e=e(),R(),e))((()=>m("p",null,"Copyright Â© 2022 - 2024 helloscala.com All Rights Reserved.",-1)))],Z=M(e({__name:"index",setup(e){const k=a(),R=s(),{t:M}=l(),Z=o(R.theme===r.DARK),ee=o(!0),ae=o(!1),se=o(!1),le=o(),oe=o(z),{height:re}=t(),te=o({username:"",password:"",captchaKey:""}),ne=n((()=>({username:[{required:!0,trigger:"blur",message:M("login.message.username.required")}],password:[{required:!0,trigger:"blur",message:M("login.message.password.required")},{min:6,message:M("login.message.password.min"),trigger:"blur"}],captchaCode:[{required:!0,trigger:"blur",message:M("login.message.captchaCode.required")}]})));function ie(){$().then((({data:e})=>{te.value.captchaKey=e.captchaKey,le.value=e.captchaBase64}))}const ce=i();function de(){oe.value.validate((e=>{e&&(ae.value=!0,k.login(te.value).then((()=>{const e=ce.query,a=e.redirect??"/",s=Object.keys(e).reduce(((a,s)=>("redirect"!==s&&(a[s]=e[s]),a)),{});q.push({path:a,query:s})})).catch((()=>{ie()})).finally((()=>{ae.value=!1})))}))}const pe=()=>{const e=R.theme===r.DARK?r.LIGHT:r.DARK;R.changeTheme(e)};function ue(e){e instanceof KeyboardEvent&&(se.value=e.getModifierState("CapsLock"))}return c((()=>{re.value<600?ee.value=!1:ee.value=!0})),d((()=>{ie()})),(e,a)=>{const s=I,l=F,o=L,r=B,t=A,n=D,i=T,c=O,d=E,$=z,q=U;return p(),u("div",S,[m("div",G,[g(s,{modelValue:f(Z),"onUpdate:modelValue":a[0]||(a[0]=e=>h(Z)?Z.value=e:null),"inline-prompt":"","active-icon":f(v),"inactive-icon":f(w),onChange:pe},null,8,["modelValue","active-icon","inactive-icon"]),g(l,{class:"ml-2 cursor-pointer"})]),g(q,{class:"!border-none !bg-transparent !rounded-4% w-100 <sm:w-85"},{default:_((()=>[m("div",H,[m("h2",null,x(f(j).title),1),g(o,{class:"ml-2 absolute-rt"},{default:_((()=>[y(x(f(j).version),1)])),_:1})]),g($,{ref_key:"loginFormRef",ref:oe,model:f(te),rules:f(ne),class:"login-form"},{default:_((()=>[g(n,{prop:"username"},{default:_((()=>[m("div",P,[g(r,{"icon-class":"user",class:"mx-2"}),g(t,{ref:"username",modelValue:f(te).username,"onUpdate:modelValue":a[1]||(a[1]=e=>f(te).username=e),placeholder:e.$t("login.username"),name:"username",size:"large",class:"h-[48px]"},null,8,["modelValue","placeholder"])])])),_:1}),g(i,{visible:f(se),content:e.$t("login.capsLock"),placement:"right"},{default:_((()=>[g(n,{prop:"password"},{default:_((()=>[m("div",Q,[g(r,{"icon-class":"lock",class:"mx-2"}),g(t,{modelValue:f(te).password,"onUpdate:modelValue":a[2]||(a[2]=e=>f(te).password=e),placeholder:e.$t("login.password"),type:"password",name:"password",onKeyup:[ue,b(de,["enter"])],size:"large",class:"h-[48px] pr-2","show-password":""},null,8,["modelValue","placeholder"])])])),_:1})])),_:1},8,["visible","content"]),g(n,{prop:"captchaCode"},{default:_((()=>[m("div",J,[g(r,{"icon-class":"captcha",class:"mx-2"}),g(t,{modelValue:f(te).captchaCode,"onUpdate:modelValue":a[3]||(a[3]=e=>f(te).captchaCode=e),"auto-complete":"off",size:"large",class:"flex-1",placeholder:e.$t("login.captchaCode"),onKeyup:b(de,["enter"])},null,8,["modelValue","placeholder"]),g(c,{onClick:ie,src:f(le),class:"rounded-tr-md rounded-br-md cursor-pointer h-[48px]"},null,8,["src"])])])),_:1}),g(d,{loading:f(ae),type:"primary",size:"large",class:"w-full",onClick:C(de,["prevent"])},{default:_((()=>[y(x(e.$t("login.login")),1)])),_:1},8,["loading"]),m("div",N,[m("span",null,x(e.$t("login.username"))+": test",1),m("span",W,x(e.$t("login.password"))+": 123456",1)])])),_:1},8,["model","rules"])])),_:1}),V(m("div",X,Y,512),[[K,f(ee)]])])}}}),[["__scopeId","data-v-f30c2f35"]]);export{Z as default};
