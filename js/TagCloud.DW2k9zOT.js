import{aC as a,r as e,A as t,br as l,o as u,c as o,e as s,g as r,L as n,M as v,C as i,l as h,t as c}from"./index.hSVJG0U0.js";import{_ as f}from"./_plugin-vue_export-helper.BCo6x5W8.js";const d={style:{"text-align":"center"}},M=["width","height"],y=["id","x","y","font-size","fill-opacity"],p=f({__name:"TagCloud",props:{data:{type:Array,default:[]}},setup(f){const p=f;a();const x=e(330),g=e(305),m=e(0),z=e(150),I=e(Math.PI/360/1.5),F=e(Math.PI/360/1.5),_=e([]),A=e();let C=e(null);const w=t((function(){return x.value/2-40})),P=t((function(){return g.value/2}));l((()=>{clearInterval(C.value),C.value=null}));const b=()=>{"number"==typeof C&&(clearInterval(C),C=null);let a=setInterval((()=>{(a=>{var e=Math.cos(a),t=Math.sin(a);for(let o of _.value){var l=(o.y-P.value)*e-o.z*t+P.value,u=o.z*e+(o.y-P.value)*t;o.y=l,o.z=u}})(I.value),(a=>{var e=Math.cos(a),t=Math.sin(a);for(let o of _.value){var l=(o.x-w.value)*e-o.z*t+w.value,u=o.z*e+(o.x-w.value)*t;o.x=l,o.z=u}})(F.value)}),17);C.value=a};function j(){var a="#";do{for(var e=0;e<6;e++)a+="0123456789ABCDEF"[Math.floor(16*Math.random())]}while("#FFFFFF"===a||"#000000"===a);return a}return u((()=>{setTimeout((()=>{A.value=p.data,function(){let a=[];m.value=A.value.length;for(let e=0;e<A.value.length;e++){let t={},l=(2*(e+1)-1)/m.value-1,u=Math.acos(l),o=u*Math.sqrt(m.value*Math.PI);t.text=A.value[e].name,t.x=w.value+z.value*Math.sin(u)*Math.cos(o),t.y=P.value+z.value*Math.sin(u)*Math.sin(o),t.z=z.value*Math.cos(u),t.id=A.value[e].id,t.color=j(),a.push(t)}_.value=a}(),b()}),800)})),(a,e)=>(o(),s("div",d,[(o(),s("svg",{style:{margin:"auto"},width:r(x),height:r(g)},[(o(!0),s(n,null,v(r(_),((a,t)=>(o(),s("a",{class:"fontA",key:`tag-${t}`,style:i({fill:a.color})},[h("text",{id:a.id,x:a.x,y:a.y,"font-size":600/(600-a.z)*16,"fill-opacity":(400+a.z)/600,onMousemove:e[0]||(e[0]=a=>{a.target.id&&clearInterval(C.value)}),onMouseout:e[1]||(e[1]=a=>{a.target.id&&b()})},c(a.text),41,y)],4)))),128))],8,M))]))}},[["__scopeId","data-v-2d89e665"]]);export{p as default};
