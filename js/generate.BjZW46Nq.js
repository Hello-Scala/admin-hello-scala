import{b as e,bl as a,bP as t,d as l,a7 as s,a as i,r as o,A as n,c as r,m as d,w as c,W as m,l as u,n as p,g as f,E as g,q as b,Z as v,e as y,f as h,a1 as _,t as j,L as w,Y as k,a3 as V,ac as x,_ as C,bQ as E,s as S,b9 as N,bR as U,S as P,o as T,b8 as O,aQ as A,M as I,ay as $,a0 as z,$ as B}from"./index.DDLafpHe.js";import{v as D}from"./el-loading.VelWjNB6.js";import{a as M,E as R}from"./el-form.DBog-eHi.js";import"./el-form-item.l0sNRNKZ.js";import{E as q}from"./el-dialog.r2RZEwsu.js";import{E as Q,a as W}from"./el-tab-pane.C2dfun5-.js";import{E as F}from"./el-link.BJ9CXOQD.js";import{E as G}from"./el-card.CTV9ECu9.js";import{_ as H}from"./index.eF0Za_Fh.js";import{E as J,a as L}from"./el-table-column.YNxxhNHO.js";import"./el-checkbox.DP4WYdHt.js";import"./el-tooltip.l0sNRNKZ.js";import"./el-scrollbar.3g6SHqRm.js";/* empty css               */import"./castArray.DEe82C4h.js";import"./_initCloneObject.BbmTpofZ.js";import"./refs.CI3vmiBI.js";import"./isUndefined.DgmxjSXK.js";import"./strings.DDVuptd7.js";import"./el-select.Dmhuo0wT.js";import"./index.DfFF8Sp5.js";import"./isEqual.C2FiSi1z.js";import"./_baseIteratee.DiLTsjBK.js";import"./index.DEHxNVEw.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";const X=e({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:a(t),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:["light","dark"],default:"light"}}),Y={close:e=>e instanceof MouseEvent},Z=l({name:"ElAlert"});const K=S(C(l({...Z,props:X,emits:Y,setup(e,{emit:a}){const l=e,{Close:C}=E,S=s(),N=i("alert"),U=o(!0),P=n((()=>t[l.type])),T=n((()=>[N.e("icon"),{[N.is("big")]:!!l.description||!!S.default}])),O=n((()=>({"with-description":l.description||S.default}))),A=e=>{U.value=!1,a("close",e)};return(e,a)=>(r(),d(x,{name:f(N).b("fade"),persisted:""},{default:c((()=>[m(u("div",{class:p([f(N).b(),f(N).m(e.type),f(N).is("center",e.center),f(N).is(e.effect)]),role:"alert"},[e.showIcon&&f(P)?(r(),d(f(g),{key:0,class:p(f(T))},{default:c((()=>[(r(),d(b(f(P))))])),_:1},8,["class"])):v("v-if",!0),u("div",{class:p(f(N).e("content"))},[e.title||e.$slots.title?(r(),y("span",{key:0,class:p([f(N).e("title"),f(O)])},[h(e.$slots,"title",{},(()=>[_(j(e.title),1)]))],2)):v("v-if",!0),e.$slots.default||e.description?(r(),y("p",{key:1,class:p(f(N).e("description"))},[h(e.$slots,"default",{},(()=>[_(j(e.description),1)]))],2)):v("v-if",!0),e.closable?(r(),y(w,{key:2},[e.closeText?(r(),y("div",{key:0,class:p([f(N).e("close-btn"),f(N).is("customed")]),onClick:A},j(e.closeText),3)):(r(),d(f(g),{key:1,class:p(f(N).e("close-btn")),onClick:A},{default:c((()=>[k(f(C))])),_:1},8,["class"]))],64)):v("v-if",!0)],2)],2),[[V,U.value]])])),_:3},8,["name"]))}}),[["__file","alert.vue"]]));const ee={class:"app-container"},ae=l({name:"Generate",inheritAttrs:!1,__name:"generate",setup(e){const{copy:a}=U(),t=o(!1),l=o([]),s=o(0),i=P({pageNo:1,pageSize:10}),n=o(),p=P({title:"",visible:!1,dVisible:!1,data:{},activeName:"domain.java"}),g=P({});function b(){t.value=!0,function(e){return N({url:"/system/generate/list",method:"get",params:e})}(i).then((({data:e})=>{n.value=e.records,s.value=e.total})).finally((()=>{t.value=!1}))}function h(e){l.value=e.map((e=>e.id))}function V(e,a){if("download"==a)return g.downloadPath="",g.tableName=e,p.title="生成代码",void(p.dVisible=!0);var t;(t=e,N({url:"/system/generate/preview/"+t,method:"get"})).then((e=>{p.data=e.data,p.activeName="domain.java",p.title="代码预览",p.visible=!0})).catch((e=>{}))}function x(e){var a;(a=g,N({url:"/system/generate/download",method:"get",params:a})).then((e=>{p.dVisible=!1,$.success("下载成功！")})).catch((e=>{}))}return T((()=>{b()})),(e,l)=>{const o=J,C=z,E=L,S=H,N=G,U=F,P=Q,T=W,X=q,Y=B,Z=M,ae=R,te=K,le=O("hasPerm"),se=D;return r(),y("div",ee,[k(N,{shadow:"never",class:"table-container"},{default:c((()=>[m((r(),d(E,{ref:"dataTableRef",data:f(n),"highlight-current-row":"",stripe:"",fit:"",onSelectionChange:h},{default:c((()=>[k(o,{align:"center",type:"selection"}),k(o,{label:"表名称",align:"center"},{default:c((e=>[u("span",null,j(e.row.name),1)])),_:1}),k(o,{label:"表描述",align:"center"},{default:c((e=>[u("span",null,j(e.row.comment),1)])),_:1}),k(o,{label:"创建时间",align:"center"},{default:c((e=>[u("span",null,j(e.row.createTime),1)])),_:1}),k(o,{label:"修改时间",align:"center"},{default:c((e=>[u("span",null,j(e.row.updateTime),1)])),_:1}),k(o,{label:"操作",align:"center"},{default:c((e=>[m((r(),d(C,{onClick:a=>V(e.row.name),type:"primary",link:"",icon:"View"},{default:c((()=>[_(" 预览 ")])),_:2},1032,["onClick"])),[[le,["system:generate:preview"]]]),m((r(),d(C,{onClick:a=>V(e.row.name,"download"),type:"success",link:"",icon:"Download"},{default:c((()=>[_(" 生成 ")])),_:2},1032,["onClick"])),[[le,["system:generate:download"]]])])),_:1})])),_:1},8,["data"])),[[se,f(t)]]),f(s)>0?(r(),d(S,{key:0,total:f(s),"onUpdate:total":l[0]||(l[0]=e=>A(s)?s.value=e:null),page:f(i).pageNo,"onUpdate:page":l[1]||(l[1]=e=>f(i).pageNo=e),limit:f(i).pageSize,"onUpdate:limit":l[2]||(l[2]=e=>f(i).pageSize=e),onPagination:b},null,8,["total","page","limit"])):v("",!0)])),_:1}),k(X,{center:"",title:f(p).title,modelValue:f(p).visible,"onUpdate:modelValue":l[4]||(l[4]=e=>f(p).visible=e),top:"5vh",width:"80%"},{default:c((()=>[k(T,{modelValue:f(p).activeName,"onUpdate:modelValue":l[3]||(l[3]=e=>f(p).activeName=e)},{default:c((()=>[(r(!0),y(w,null,I(f(p).data,((e,t)=>(r(),d(P,{label:t.substring(t.lastIndexOf("/")+1,t.indexOf(".vm")),name:t.substring(t.lastIndexOf("/")+1,t.indexOf(".vm")),key:e},{default:c((()=>[k(U,{underline:!1,icon:"DocumentCopy",onClick:t=>{a(e).then((()=>{$.success("复制成功")})).catch((()=>{$.warning("复制失败")}))},style:{float:"right"}},{default:c((()=>[_(" 复制")])),_:2},1032,["onClick"]),u("pre",null,j(e),1)])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["title","modelValue"]),k(X,{title:f(p).title,modelValue:f(p).dVisible,"onUpdate:modelValue":l[6]||(l[6]=e=>f(p).dVisible=e),width:"30%"},{default:c((()=>[k(ae,{ref:"form",model:f(g),"label-width":"80px"},{default:c((()=>[k(Z,{label:"生成地址"},{default:c((()=>[k(Y,{modelValue:f(g).downloadPath,"onUpdate:modelValue":l[5]||(l[5]=e=>f(g).downloadPath=e)},null,8,["modelValue"])])),_:1}),k(Z,null,{default:c((()=>[k(C,{type:"primary",onClick:x},{default:c((()=>[_("确 定")])),_:1})])),_:1})])),_:1},8,["model"]),k(te,{title:"地址示例：C:\\blog",type:"success",effect:"dark",closable:!1})])),_:1},8,["title","modelValue"])])}}});export{ae as default};
