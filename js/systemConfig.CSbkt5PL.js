import{b9 as e,d as l,r as a,S as t,o,au as u,b8 as s,c as d,e as i,Y as m,w as r,a1 as n,g as p,L as f,M as c,m as b,W as _,l as y,aQ as V,ay as v,a0 as h,$ as w,E as U}from"./index.C9nAUyKp.js";import{E as x,a as g}from"./el-tab-pane.D5zhhKaB.js";/* empty css               */import{E as j,a as k}from"./el-select.BNJwVlU-.js";import"./el-scrollbar.C16Zp6J7.js";import{a as N,E as q}from"./el-form._ldtosfJ.js";import"./el-form-item.l0sNRNKZ.js";/* empty css                       */import{E as A,a as E}from"./el-radio.CM-tjRI7.js";import{_ as P}from"./index.H2H9XxQF.js";import{g as C}from"./index.dWNeiZ9a.js";import"./strings.If0QXNkj.js";import"./index.DJpnjUD8.js";import"./isEqual.CxS2QHO6.js";import"./_initCloneObject.C6tk3cZf.js";import"./_baseIteratee.CBi7GCj4.js";import"./index.5TzgbSnb.js";import"./castArray.BpNHvUBt.js";import"./isUndefined.DgmxjSXK.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";const B={class:"app-container"},z=y("aside",null,[n("通过开关选择博客的一些配置，以及文件显示方式"),y("br")],-1),I=y("aside",null,"使用IO流将文件存储本地磁盘中",-1),R=y("aside",null,[n("使用 "),y("a",{href:"#"},"七牛云"),n(" 构建对象存储服务"),y("br")],-1),F=y("aside",null,[n("使用 "),y("a",{href:"#"},"邮箱"),n(" 发送通知"),y("br")],-1),M={class:"editor-container",style:{width:"100%"}},H={style:{"margin-top":"5px","margin-left":"10px","text-align":"center"}},K=l({name:"systemConfig",inheritAttrs:!1,__name:"systemConfig",setup(l){const K=a("0"),O=a([{name:"华东",value:"z0"},{name:"华北",value:"z1"},{name:"华南",value:"z2"},{name:"北美",value:"na0"},{name:"东南亚",value:"as0"}]),D=a([]),S=a([]),T=a(["本地","七牛云","阿里云","FTP"]),W=a([]),Z=a(null),G=a({qiNiuPictureBaseUrl:[{pattern:/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+/,message:"请输入正确的域名"}],email:[{pattern:/\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/,message:"请输入正确的邮箱"}]}),J=a("one"),L=t({}),Q=a(),Y=a();function $(e,l){K.value=e.index}function X(){e({url:"/system/config/getConfig",method:"get"}).then((e=>{e.data&&Object.assign(L,e.data)}))}function ee(){Q.value.validate((l=>{var a;l&&("4"===K.value&&(L.dashboardNotification=Y.value.d_render),(a=L,e({url:"/system/config/update",method:"put",data:a})).then((()=>{v.success("修改成功")})))}))}return o((()=>{C(["sys_search_model","sys_yes_no","sys_normal_disable"]).then((e=>{let l=e.data;D.value=l.sys_yes_no.list,S.value=l.sys_normal_disable.list,Z.value=l.sys_normal_disable.defaultValue,W.value=l.sys_search_model.list})),X()})),(e,l)=>{const a=P,t=A,o=E,v=N,C=h,K=q,Z=x,X=w,le=j,ae=k,te=u("BellFilled"),oe=U,ue=u("mavon-editor"),se=g,de=s("hasPerm");return d(),i("div",B,[m(se,{type:"border-card",onTabClick:$,modelValue:p(J),"onUpdate:modelValue":l[22]||(l[22]=e=>V(J)?J.value=e:null)},{default:r((()=>[m(Z,{name:"one"},{label:r((()=>[m(a,{"icon-class":"system"}),n("系统配置")])),default:r((()=>[m(K,{style:{"margin-left":"20px"},"label-position":"left","label-width":"140px",ref_key:"formRef",ref:Q},{default:r((()=>[z,m(v,{label:"网站消息邮件通知"},{default:r((()=>[m(o,{modelValue:p(L).startEmailNotification,"onUpdate:modelValue":l[0]||(l[0]=e=>p(L).startEmailNotification=e),class:"ml-4"},{default:r((()=>[(d(!0),i(f,null,c(p(S),(e=>(d(),b(t,{key:e.value,value:e.value,label:e.label,border:""},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(v,{label:"启用邮箱发送功能"},{default:r((()=>[m(o,{modelValue:p(L).openEmail,"onUpdate:modelValue":l[1]||(l[1]=e=>p(L).openEmail=e),class:"ml-4"},{default:r((()=>[(d(!0),i(f,null,c(p(D),(e=>(d(),b(t,{key:parseInt(e.value),value:parseInt(e.value),label:e.label,border:""},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(v,{label:"注册用户邮件激活"},{default:r((()=>[m(o,{modelValue:p(L).openEmailActivate,"onUpdate:modelValue":l[2]||(l[2]=e=>p(L).openEmailActivate=e),class:"ml-4"},{default:r((()=>[(d(!0),i(f,null,c(p(S),(e=>(d(),b(t,{key:e.value,value:e.value,label:e.label,border:""},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(v,{label:"图片上传方式"},{default:r((()=>[m(o,{modelValue:p(L).fileUploadWay,"onUpdate:modelValue":l[3]||(l[3]=e=>p(L).fileUploadWay=e),class:"ml-4"},{default:r((()=>[(d(!0),i(f,null,c(p(T),((e,l)=>(d(),b(t,{key:l,value:l,label:e,border:""},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(v,{label:"仪表盘弹框通知"},{default:r((()=>[m(o,{modelValue:p(L).openDashboardNotification,"onUpdate:modelValue":l[4]||(l[4]=e=>p(L).openDashboardNotification=e),class:"ml-4"},{default:r((()=>[(d(!0),i(f,null,c(p(S),(e=>(d(),b(t,{key:e.value,value:e.value,label:e.label,border:""},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(v,{label:"文章搜索模式"},{default:r((()=>[m(o,{modelValue:p(L).searchModel,"onUpdate:modelValue":l[5]||(l[5]=e=>p(L).searchModel=e),class:"ml-4"},{default:r((()=>[(d(!0),i(f,null,c(p(W),(e=>(d(),b(t,{key:parseInt(e.value),value:parseInt(e.value),label:e.label,border:""},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(v,null,{default:r((()=>[_((d(),b(C,{type:"primary",onClick:l[6]||(l[6]=e=>ee())},{default:r((()=>[n("修 改")])),_:1})),[[de,["system:config:update"]]])])),_:1})])),_:1},512)])),_:1}),m(Z,{name:"tow"},{label:r((()=>[m(a,{"icon-class":"download"}),n(" 本地文件存储 ")])),default:r((()=>[m(K,{style:{"margin-left":"20px"},"label-position":"left",model:p(L),"label-width":"120px",rules:p(G),ref_key:"formRef",ref:Q},{default:r((()=>[I,m(v,{label:"本地文件域名",prop:"localFileUrl"},{default:r((()=>[m(X,{modelValue:p(L).localFileUrl,"onUpdate:modelValue":l[7]||(l[7]=e=>p(L).localFileUrl=e),"auto-complete":"new-password",style:{width:"400px"}},null,8,["modelValue"])])),_:1}),m(v,null,{default:r((()=>[_((d(),b(C,{type:"primary",onClick:l[8]||(l[8]=e=>ee())},{default:r((()=>[n("修 改")])),_:1})),[[de,["system:config:update"]]])])),_:1})])),_:1},8,["model","rules"])])),_:1}),m(Z,{name:"three"},{label:r((()=>[m(a,{"icon-class":"api"}),n(" 七牛云对象存储 ")])),default:r((()=>[m(K,{style:{"margin-left":"20px"},"label-position":"left",model:p(L),"label-width":"120px",rules:p(G),ref_key:"formRef",ref:Q},{default:r((()=>[R,m(v,{label:"七牛云文件域名",prop:"qiNiuPictureBaseUrl"},{default:r((()=>[m(X,{modelValue:p(L).qiNiuPictureBaseUrl,"onUpdate:modelValue":l[9]||(l[9]=e=>p(L).qiNiuPictureBaseUrl=e),"auto-complete":"new-password",style:{width:"400px"}},null,8,["modelValue"])])),_:1}),m(v,{label:"七牛云公钥"},{default:r((()=>[m(X,{modelValue:p(L).qiNiuAccessKey,"onUpdate:modelValue":l[10]||(l[10]=e=>p(L).qiNiuAccessKey=e),"auto-complete":"new-password",style:{width:"400px"}},null,8,["modelValue"])])),_:1}),m(v,{label:"七牛云私钥"},{default:r((()=>[m(X,{type:"password",modelValue:p(L).qiNiuSecretKey,"onUpdate:modelValue":l[11]||(l[11]=e=>p(L).qiNiuSecretKey=e),"auto-complete":"new-password",style:{width:"400px"}},null,8,["modelValue"])])),_:1}),m(v,{label:"上传空间"},{default:r((()=>[m(X,{modelValue:p(L).qiNiuBucket,"onUpdate:modelValue":l[12]||(l[12]=e=>p(L).qiNiuBucket=e),style:{width:"400px"}},null,8,["modelValue"])])),_:1}),m(v,{label:"存储区域"},{default:r((()=>[m(ae,{modelValue:p(L).qiNiuArea,"onUpdate:modelValue":l[13]||(l[13]=e=>p(L).qiNiuArea=e),placeholder:"请选择存储区域",style:{width:"200px"},clearable:""},{default:r((()=>[(d(!0),i(f,null,c(p(O),(e=>(d(),b(le,{key:e.value,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(v,null,{default:r((()=>[_((d(),b(C,{type:"primary",onClick:l[14]||(l[14]=e=>ee())},{default:r((()=>[n("修 改")])),_:1})),[[de,["system:config:update"]]])])),_:1})])),_:1},8,["model","rules"])])),_:1}),m(Z,{name:"four"},{label:r((()=>[m(a,{"icon-class":"publish"}),n(" 邮箱发送 ")])),default:r((()=>[m(K,{style:{"margin-left":"20px"},"label-position":"left",model:p(L),"label-width":"120px",rules:p(G),ref_key:"formRef",ref:Q},{default:r((()=>[F,m(v,{label:"邮箱地址",prop:"emailHost"},{default:r((()=>[m(X,{modelValue:p(L).emailHost,"onUpdate:modelValue":l[15]||(l[15]=e=>p(L).emailHost=e),"auto-complete":"new-password",style:{width:"400px"}},null,8,["modelValue"])])),_:1}),m(v,{label:"邮箱发送者"},{default:r((()=>[m(X,{modelValue:p(L).emailUsername,"onUpdate:modelValue":l[16]||(l[16]=e=>p(L).emailUsername=e),"auto-complete":"new-password",style:{width:"400px"}},null,8,["modelValue"])])),_:1}),m(v,{label:"邮箱授权码"},{default:r((()=>[m(X,{type:"emailUsername",modelValue:p(L).emailPassword,"onUpdate:modelValue":l[17]||(l[17]=e=>p(L).emailPassword=e),"auto-complete":"new-password",style:{width:"400px"}},null,8,["modelValue"])])),_:1}),m(v,{label:"邮箱端口"},{default:r((()=>[m(X,{modelValue:p(L).emailPort,"onUpdate:modelValue":l[18]||(l[18]=e=>p(L).emailPort=e),style:{width:"400px"}},null,8,["modelValue"])])),_:1}),m(v,null,{default:r((()=>[_((d(),b(C,{type:"primary",onClick:l[19]||(l[19]=e=>ee())},{default:r((()=>[n("修 改")])),_:1})),[[de,["system:config:update"]]])])),_:1})])),_:1},8,["model","rules"])])),_:1}),m(Z,{name:"five"},{label:r((()=>[m(oe,null,{default:r((()=>[m(te)])),_:1}),n(" 仪表盘通知")])),default:r((()=>[m(K,{"label-position":"left",model:p(L),rules:p(G),ref_key:"formRef",ref:Q},{default:r((()=>[m(v,null,{default:r((()=>[y("div",M,[m(ue,{placeholder:"开始编辑....",subfield:!1,style:{height:"500px"},ref_key:"mdRef",ref:Y,modelValue:p(L).dashboardNotificationMd,"onUpdate:modelValue":l[20]||(l[20]=e=>p(L).dashboardNotificationMd=e)},null,8,["modelValue"])])])),_:1})])),_:1},8,["model","rules"]),_((d(),i("div",H,[m(C,{type:"primary",onClick:l[21]||(l[21]=e=>ee())},{default:r((()=>[n("修 改")])),_:1})])),[[de,["system:config:update"]]])])),_:1})])),_:1},8,["modelValue"])])}}});export{K as default};
