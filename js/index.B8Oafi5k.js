import e from"./TagCloud.t8SiyB-C.js";import{b as t,h as a,d as s,a as i,A as l,b2 as r,b3 as o,c as n,e as c,n as d,g as u,f as p,a1 as f,t as m,Z as v,l as h,C as x,_ as g,s as y,aO as b,aP as _,aA as w,r as C,o as j,au as S,Y as D,w as E,b4 as L,E as k}from"./index.DDLafpHe.js";import{E as z,a as A}from"./el-table-column.YNxxhNHO.js";import"./el-checkbox.DP4WYdHt.js";import"./el-tooltip.l0sNRNKZ.js";import"./el-scrollbar.3g6SHqRm.js";/* empty css               */import{E as O}from"./el-link.BJ9CXOQD.js";import{E as I}from"./el-card.CTV9ECu9.js";import{E as V}from"./el-row.DwGNFC3u.js";import{_ as T}from"./index.DAXCxjKg.js";import{E as $}from"./el-col.BVn5o95S.js";import{_ as F}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{g as B,a as M}from"./index.BWf2RlTY.js";import{i as P}from"./index.B6oudZUb.js";import"./_baseIteratee.DiLTsjBK.js";import"./_initCloneObject.BbmTpofZ.js";import"./isEqual.C2FiSi1z.js";import"./index.DEHxNVEw.js";import"./isUndefined.DgmxjSXK.js";const q=t({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:a([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:a([String,Object,Array])}}),W=s({name:"ElStatistic"});const Z=y(g(s({...W,props:q,setup(e,{expose:t}){const a=e,s=i("statistic"),g=l((()=>{const{value:e,formatter:t,precision:s,decimalSeparator:i,groupSeparator:l}=a;if(r(t))return t(e);if(!o(e))return e;let[n,c=""]=String(e).split(".");return c=c.padEnd(s,"0").slice(0,s>0?s:0),n=n.replace(/\B(?=(\d{3})+(?!\d))/g,l),[n,c].join(c?i:"")}));return t({displayValue:g}),(e,t)=>(n(),c("div",{class:d(u(s).b())},[e.$slots.title||e.title?(n(),c("div",{key:0,class:d(u(s).e("head"))},[p(e.$slots,"title",{},(()=>[f(m(e.title),1)]))],2)):v("v-if",!0),h("div",{class:d(u(s).e("content"))},[e.$slots.prefix||e.prefix?(n(),c("div",{key:0,class:d(u(s).e("prefix"))},[p(e.$slots,"prefix",{},(()=>[h("span",null,m(e.prefix),1)]))],2)):v("v-if",!0),h("span",{class:d(u(s).e("number")),style:x(e.valueStyle)},m(u(g)),7),e.$slots.suffix||e.suffix?(n(),c("div",{key:1,class:d(u(s).e("suffix"))},[p(e.$slots,"suffix",{},(()=>[h("span",null,m(e.suffix),1)]))],2)):v("v-if",!0)],2)],2))}}),[["__file","statistic.vue"]])),G={},N=e=>(b("data-v-3126f77d"),e=e(),_(),e),R={href:"",target:"_blank",class:"github-corner","aria-label":"View source on Github"},U={width:"80",height:"80",viewBox:"0 0 250 250",style:{color:"#fff",fill:"#40c9c6"},"aria-hidden":"true"},Y=[N((()=>h("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"},null,-1))),N((()=>h("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{"transform-origin":"130px 106px"},class:"octo-arm"},null,-1))),N((()=>h("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",class:"octo-body"},null,-1)))];const H=F(G,[["render",function(e,t){return n(),c("a",R,[(n(),c("svg",U,Y))])}],["__scopeId","data-v-3126f77d"]]),J=e=>(b("data-v-65e5625d"),e=e(),_(),e),K={class:"dashboard-container"},X={class:"flex h-full items-center"},Q=["src"],ee={class:"text-sm text-gray"},te={class:"flex h-full items-center justify-around"},ae={class:"flex items-center"},se=J((()=>h("span",{class:"text-[16px] ml-1"},"文章数",-1))),ie={class:"flex items-center"},le=J((()=>h("span",{class:"text-[16px] ml-1"},"总访客数",-1))),re={class:"flex items-center"},oe=J((()=>h("span",{class:"text-[16px] ml-1"},"用户量",-1))),ne={class:"flex items-center"},ce=J((()=>h("span",{class:"text-[16px] ml-1"},"留言数",-1))),de=J((()=>h("div",{id:"container",style:{width:"100%",height:"300px"}},null,-1))),ue=J((()=>h("div",{class:"e-title"},"文章阅读量排行",-1))),pe=J((()=>h("div",{class:"e-title"},"文章分类统计",-1))),fe=J((()=>h("div",{class:"chart-wrapper"},[h("div",{id:"categoryChart",class:"chart",style:{height:"310px",width:"100%"}})],-1))),me=J((()=>h("div",{class:"e-title"},"文章标签",-1))),ve=J((()=>h("div",{class:"e-title"},"一周访问量",-1))),he=J((()=>h("div",{id:"access",class:"chart",style:{height:"350px",width:"100%"}},null,-1))),xe=F(s({name:"Dashboard",inheritAttrs:!1,__name:"index",setup(t){const a=w(),s=new Date,i=C(),r=C(),o=C(),d=C(),p=C([]),v=C({}),x=C("https://admin.helloscala.com/"),g=C(!1),y=l((()=>{const e=s.getHours();return e>=6&&e<8?"晨起披衣出草堂，轩窗已自喜微凉🌅！":e>=8&&e<12?"上午好，"+a.user.nickname+"！":e>=12&&e<18?"下午好，"+a.user.nickname+"！":e>=18&&e<24?"晚上好，"+a.user.nickname+"！":"偷偷向银河要了一把碎星，只等你闭上眼睛撒入你的梦中，晚安🌛！"}));function b(e){r.value=L(P(document.getElementById("access")));let t=C({createData:0,countData:0,accessData:0}),a=[],s=[],i=[];e.forEach((e=>{a.push(e.createTime),s.push(e.ip),i.push(e.access)})),t.value.createData=a,t.value.countData=s,t.value.accessData=i,function(e){let t=e.createData,a=e.countData,s=e.accessData;r.value.setOption({xAxis:{data:t,boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["独立用户(UV)","访问量(PV)"]},series:[{name:"独立用户(UV)",smooth:!0,type:"line",itemStyle:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}},data:a,animationDuration:2800,animationEasing:"quadraticOut"},{name:"访问量(PV)",smooth:!0,type:"line",itemStyle:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}},data:s,animationDuration:2800,animationEasing:"quadraticOut"}]});let i=r.value;window.addEventListener("resize",(function(){i.resize()}))}(t.value)}return j((()=>{B().then((e=>{d.value=e.data.dashboard,p.value=e.data.tagsList,o.value=e.data.articles,function(e,t){let a=L(P(document.getElementById("container"))),s={title:{top:30,text:"文章贡献度",subtext:"一年内博客提交的数量",left:"center",color:"#000"},tooltip:{trigger:"item",formatter:function(e){return e.data[0]+"<br>文章数："+e.data[1]}},legend:{top:"30",left:"100",data:["文章数"],color:"#000"},calendar:[{top:100,left:"center",range:e,splitLine:{show:!0,lineStyle:{color:"#D3D3D3",width:4,type:"solid"}},yearLabel:{show:!1},dayLabel:{nameMap:["周日","周一","周二","周三","周四","周五","周六"],color:"#000",firstDay:1},monthLabel:{nameMap:"cn",color:"#000"},itemStyle:{color:"#ffffff",borderWidth:1,borderColor:"#D3D3D3"}}],series:[{name:"文章数",type:"scatter",coordinateSystem:"calendar",data:t,symbolSize:function(e){if(0===e[1])return e[1];{let t=8+2*e[1];return t>18&&(t=18),t}},itemStyle:{color:"#2ec7c9"}}]};a.setOption(s),window.addEventListener("resize",(function(){a.resize()}))}(e.data.contribute.contributeDate,e.data.contribute.blogContributeCount),function(e,t){i.value=L(P(document.getElementById("categoryChart"))),i.value.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:e},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:t,animationEasing:"cubicInOut",animationDuration:2600}]});let a=i.value;window.addEventListener("resize",(function(){a.resize()}))}(e.data.categoryList.categoryList,e.data.categoryList.result),b(e.data.userAccess),g.value=!0})),M().then((e=>{v.value=e.data}))})),(t,s)=>{const i=H,l=$,r=T,d=Z,g=S("View"),b=k,_=V,w=I,C=O,j=z,L=A,F=e;return n(),c("div",K,[D(i,{class:"github-corner"}),D(w,{shadow:"never"},{default:E((()=>[D(_,{justify:"space-between"},{default:E((()=>[D(l,{span:18,xs:24},{default:E((()=>[h("div",X,[h("img",{class:"w-20 h-20 mr-5 rounded-full",src:u(a).user.avatar+"?imageView2/1/w/80/h/80"},null,8,Q),h("div",null,[h("p",null,m(u(y)),1),h("p",ee,m(u(a).user.intro?u(a).user.intro:"以后的你会感谢现在努力的你"),1)])])])),_:1}),D(l,{span:6,xs:24},{default:E((()=>[h("div",te,[D(d,{value:u(v).article},{title:E((()=>[h("div",ae,[D(r,{"icon-class":"todolist",size:"20px"}),se])])),_:1},8,["value"]),D(d,{value:u(v).viewsCount},{title:E((()=>[h("div",ie,[D(b,{size:"20px",color:"red"},{default:E((()=>[D(g)])),_:1}),le])])),_:1},8,["value"]),D(d,{value:u(v).user},{title:E((()=>[h("div",re,[D(r,{"icon-class":"visit",size:"20px"}),oe])])),_:1},8,["value"]),D(d,{value:u(v).message},{title:E((()=>[h("div",ne,[D(r,{"icon-class":"message",size:"20px"}),ce])])),_:1},8,["value"])])])),_:1})])),_:1})])),_:1}),D(_,{class:"mt-3"},{default:E((()=>[D(w,{style:{padding:"16px 16px 0",width:"100%"}},{default:E((()=>[de])),_:1})])),_:1}),D(_,{gutter:10,class:"mt-3"},{default:E((()=>[D(l,{sm:24,lg:8,class:"mb-2"},{default:E((()=>[D(w,null,{default:E((()=>[ue,D(L,{data:u(o),style:{"padding-top":"25px"},fit:""},{default:E((()=>[D(j,{label:"标题",width:"400"},{default:E((e=>[D(C,{style:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},underline:!1,href:u(x)+"article/"+e.row.id,target:"_blank"},{default:E((()=>[f(m(e.row.title),1)])),_:2},1032,["href"])])),_:1}),D(j,{label:"阅读量",prop:"quantity",align:"center"})])),_:1},8,["data"])])),_:1})])),_:1}),D(l,{xs:24,sm:12,lg:8,class:"mb-2"},{default:E((()=>[D(w,null,{default:E((()=>[pe,fe])),_:1})])),_:1}),D(l,{xs:24,sm:12,lg:8,class:"mb-2"},{default:E((()=>[D(w,null,{default:E((()=>[me,D(F,{data:u(p)},null,8,["data"])])),_:1})])),_:1})])),_:1}),D(_,{class:"mt-3"},{default:E((()=>[D(w,{style:{width:"100%"}},{default:E((()=>[ve,he])),_:1})])),_:1})])}}}),[["__scopeId","data-v-65e5625d"]]);export{xe as default};
