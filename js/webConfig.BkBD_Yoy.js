import{b9 as e,d as l,r as a,y as t,S as o,o as u,au as d,b8 as s,W as r,g as i,c as n,e as p,Y as m,w as f,a1 as _,m as c,aQ as b,L as h,M as y,l as v,t as g,ay as w,E as V,$ as x,a0 as P}from"./index.fnbw5y5k.js";import{v as E}from"./el-loading.HzdahNM-.js";import{E as U,a as A}from"./el-tab-pane.DO5ohsEx.js";import{E as k}from"./el-switch._aWYCSIc.js";import{E as j}from"./el-radio.Dl-tBj2C.js";import{a as C,E as q}from"./el-form.CXzYbvvU.js";import{E as I,a as T}from"./el-checkbox.BXgtrOQn.js";import{E as L}from"./el-row.IbvB9vun.js";import{E as O}from"./el-col.CIqXblb_.js";import"./el-form-item.l0sNRNKZ.js";import{E as N}from"./el-progress.Cb27sDO1.js";import{_ as S}from"./index.D_4z6Df7.js";import{g as F}from"./index.CdZYFHfm.js";import{u as Q}from"./file.YJVEjFV5.js";import{T as G,E as M}from"./style.css_vue_type_style_index_0_src_true_lang.B5WMk4d2.js";import{_ as R}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./strings.CNQDdpYl.js";import"./castArray.BfXkOhWC.js";import"./_initCloneObject.CCC-Ul-V.js";import"./isEqual.A87rRtZ6.js";var D={VITE_APP_PORT:"3100",VITE_APP_BASE_API:"/dev-api",VITE_APP_HOME_URL:"http://192.168.1.8:8400/helloscala",VITE_APP_TITLE:"Hello Scala后台管理系统",VITE_APP_LOGO:"",VITE_APP_VERSION:"2.0",VITE_USER_NODE_ENV:"production",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const B={class:"app-container"},H=["src"],Z=["src"],z={key:1,class:"el-icon-plus avatar-uploader-icon1"},W=["src"],Y={key:1,class:"el-icon-plus avatar-uploader-icon1"},J={style:{border:"1px solid #ccc"}},K=["src"],X=["src"],$={key:1,class:"el-icon-plus avatar-uploader-icon1"},ee=R(l({name:"FriendLink",inheritAttrs:!1,__name:"webConfig",setup(l){const R=a(!1),ee=t(),le=a({}),ae=a({placeholder:"请输入内容...",MENU_CONF:{uploadImage:{customUpload:function(e,l){ne.value=e;var a=new FormData;a.append("multipartFile",ne.value),Q(a).then((e=>{l(e.data,"",e.data),R.value=!1}))}},uploadVideo:{customUpload:function(e,l){ne.value=e;var a=new FormData;a.append("multipartFile",ne.value),Q(a).then((e=>{l(e.data,""),R.value=!1}))}},codeSelectLang:{codeLangs:[{text:"CSS",value:"css"},{text:"HTML",value:"html"},{text:"XML",value:"xml"},{text:"Java",value:"java"}]}}}),te=a("default"),oe=a([]),ue=a([]),de=o({});a({});const se=a(D.VITE_APP_API_URL+"/file/upload"),re=a([]),ie=a([]),ne=a(),pe=a({qqNumber:[{pattern:/[1-9]([0-9]{5,11})/,message:"请输入正确的QQ号码"}],qqGroup:[{pattern:/-?[1-9]\d*/,message:"请输入正确的QQ群"}],gitee:[{pattern:/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+/,message:"请输入正确的Gitee地址"}],github:[{pattern:/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+/,message:"请输入正确的Github地址"}],email:[{pattern:/\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/,message:"请输入正确的邮箱"}]});function me(e){ee.value=e}function fe(e,l){}function _e(){e({url:"/system/webConfig/",method:"get"}).then((e=>{let l=e.data,a=l.showList.split(","),t=l.loginTypeList.split(",");oe.value=t,ue.value=a,Object.assign(de,l)}))}function ce(e){let l=we(e);Q(l).then((e=>{de.weixinPay=e.data,R.value=!1}))}function be(e){let l=we(e);Q(l).then((e=>{de.aliPay=e.data,R.value=!1}))}function he(e){let l=we(e);Q(l).then((e=>{de.logo=e.data,R.value=!1}))}function ye(e){let l=we(e);Q(l).then((e=>{de.touristAvatar=e.data,R.value=!1}))}function ve(e){let l=we(e);Q(l).then((e=>{de.authorAvatar=e.data,R.value=!1}))}function ge(){R.value=!0}function we(e){ne.value=e.file;var l=new FormData;return l.append("multipartFile",ne.value),l}function Ve(){let l="";oe.value.forEach((e=>{""!==e&&(l=""==l?e:l+","+e)}));let a="";var t;ue.value.forEach((e=>{""!==e&&(a=""==a?e:a+","+e)})),de.loginTypeList=l,de.showList=a,(t=de,e({url:"/system/webConfig/update",method:"put",data:t})).then((e=>{w.success("修改成功"),_e()})).catch((e=>{}))}return u((()=>{F(["sys_normal_disable","sys_login_method"]).then((e=>{let l=e.data;re.value=l.sys_normal_disable.list,ie.value=l.sys_login_method.list})),_e()})),(e,l)=>{const a=S,t=d("Upload"),o=V,u=N,w=C,F=O,Q=L,D=x,ne=I,_e=T,we=P,xe=q,Pe=U,Ee=d("Plus"),Ue=j,Ae=d("BellFilled"),ke=k,je=A,Ce=s("hasPerm"),qe=E;return r((n(),p("div",B,[m(je,{type:"border-card",onTabClick:fe},{default:f((()=>[m(Pe,null,{label:f((()=>[m(a,{"icon-class":"client"}),_(" 网站信息 ")])),default:f((()=>[m(xe,{style:{"margin-left":"20px"},"label-position":"left",model:i(de),"label-width":"80px",ref:"from"},{default:f((()=>[m(Q,{gutter:12},{default:f((()=>[m(F,{span:6},{default:f((()=>[m(w,{label:"网站头像"},{default:f((()=>[m(u,{class:"avatar-uploader1","show-file-list":!1,action:i(se),"before-upload":ge,"http-request":he},{default:f((()=>[i(de).logo?(n(),p("img",{key:0,style:{width:"100px",height:"100px"},src:i(de).logo,class:"avatar1"},null,8,H)):(n(),c(o,{key:1},{default:f((()=>[m(t)])),_:1}))])),_:1},8,["action"])])),_:1})])),_:1}),m(F,{span:6},{default:f((()=>[m(w,{label:"游客头像",prop:"touristAvatar"},{default:f((()=>[m(u,{class:"avatar-uploader1","show-file-list":!1,action:i(se),"before-upload":ge,"http-request":ye},{default:f((()=>[i(de).touristAvatar?(n(),p("img",{key:0,style:{width:"100px",height:"100px"},src:i(de).touristAvatar,class:"avatar1"},null,8,Z)):(n(),p("i",z))])),_:1},8,["action"])])),_:1})])),_:1})])),_:1}),m(Q,{gutter:24},{default:f((()=>[m(F,{span:10},{default:f((()=>[m(w,{label:"网站名称",prop:"name"},{default:f((()=>[m(D,{modelValue:i(de).name,"onUpdate:modelValue":l[0]||(l[0]=e=>i(de).name=e),style:{width:"400px"}},null,8,["modelValue"])])),_:1})])),_:1}),m(F,{span:10},{default:f((()=>[m(w,{label:"网站地址",prop:"webUrl"},{default:f((()=>[m(D,{modelValue:i(de).webUrl,"onUpdate:modelValue":l[1]||(l[1]=e=>i(de).webUrl=e),style:{width:"400px"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),m(Q,{gutter:24},{default:f((()=>[m(F,{span:10},{default:f((()=>[m(w,{label:"关键字",prop:"newPwd2"},{default:f((()=>[m(D,{modelValue:i(de).keyword,"onUpdate:modelValue":l[2]||(l[2]=e=>i(de).keyword=e),style:{width:"400px"}},null,8,["modelValue"])])),_:1})])),_:1}),m(F,{span:10},{default:f((()=>[m(w,{label:"描述",prop:"newPwd1"},{default:f((()=>[m(D,{modelValue:i(de).summary,"onUpdate:modelValue":l[3]||(l[3]=e=>i(de).summary=e),style:{width:"400px"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),m(Q,{gutter:24},{default:f((()=>[m(F,{span:10},{default:f((()=>[m(w,{label:"备案号",prop:"newPwd2"},{default:f((()=>[m(D,{modelValue:i(de).recordNum,"onUpdate:modelValue":l[4]||(l[4]=e=>i(de).recordNum=e),style:{width:"400px"}},null,8,["modelValue"])])),_:1})])),_:1}),m(F,{span:10},{default:f((()=>[m(w,{label:"登录方式"},{default:f((()=>[m(_e,{modelValue:i(oe),"onUpdate:modelValue":l[5]||(l[5]=e=>b(oe)?oe.value=e:null)},{default:f((()=>[(n(!0),p(h,null,y(i(ie),(e=>(n(),c(ne,{border:"",key:e.value,value:e.value,label:e.label,style:{"margin-left":"10px"}},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),m(w,null,{default:f((()=>[r((n(),c(we,{type:"primary",onClick:l[6]||(l[6]=e=>Ve())},{default:f((()=>[_("修 改")])),_:1})),[[Ce,["system:webConfig:update"]]])])),_:1})])),_:1},8,["model"])])),_:1}),m(Pe,null,{label:f((()=>[m(a,{"icon-class":"user"}),_(" 作者信息 ")])),default:f((()=>[m(xe,{style:{"margin-left":"20px"},"label-position":"left",model:i(de),"label-width":"80px",ref:"from"},{default:f((()=>[m(w,{label:"作者头像"},{default:f((()=>[m(u,{class:"avatar-uploader1","show-file-list":!1,action:i(se),"before-upload":ge,"http-request":ve},{default:f((()=>[i(de).authorAvatar?(n(),p("img",{key:0,style:{width:"100px",height:"100px"},src:i(de).authorAvatar,class:"avatar1"},null,8,W)):(n(),p("i",Y))])),_:1},8,["action"])])),_:1}),m(Q,{gutter:24},{default:f((()=>[m(F,{span:10},{default:f((()=>[m(w,{label:"作者",prop:"newPwd2"},{default:f((()=>[m(D,{modelValue:i(de).author,"onUpdate:modelValue":l[7]||(l[7]=e=>i(de).author=e),style:{width:"400px"}},null,8,["modelValue"])])),_:1})])),_:1}),m(F,{span:10},{default:f((()=>[m(w,{label:"作者简介",prop:"newPwd2"},{default:f((()=>[m(D,{modelValue:i(de).authorInfo,"onUpdate:modelValue":l[8]||(l[8]=e=>i(de).authorInfo=e),style:{width:"400px"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),m(Q,{gutter:24},{default:f((()=>[m(w,{label:"关于我"},{default:f((()=>[v("div",J,[m(i(G),{style:{"border-bottom":"1px solid #ccc"},editor:i(ee),defaultConfig:i(le),mode:i(te)},null,8,["editor","defaultConfig","mode"]),m(i(M),{style:{height:"500px","overflow-y":"hidden"},modelValue:i(de).aboutMe,"onUpdate:modelValue":l[9]||(l[9]=e=>i(de).aboutMe=e),defaultConfig:i(ae),mode:i(te),onOnCreated:me},null,8,["modelValue","defaultConfig","mode"])])])),_:1})])),_:1}),m(w,null,{default:f((()=>[r((n(),c(we,{type:"primary",onClick:l[10]||(l[10]=e=>Ve())},{default:f((()=>[_("修 改")])),_:1})),[[Ce,["system:webConfig:update"]]])])),_:1})])),_:1},8,["model"])])),_:1}),m(Pe,null,{label:f((()=>[m(a,{"icon-class":"order"}),_(" 评论&打赏 ")])),default:f((()=>[m(xe,{style:{"margin-left":"20px"},"label-position":"left",model:i(de),"label-width":"90px",ref:"from"},{default:f((()=>[m(Q,{gutter:24},{default:f((()=>[m(F,{span:4},{default:f((()=>[m(w,{label:"支付宝"},{default:f((()=>[m(u,{class:"avatar-uploader1","show-file-list":!1,action:i(se),"before-upload":ge,"http-request":be},{default:f((()=>[i(de).aliPay?(n(),p("img",{key:0,style:{width:"100px",height:"100px"},src:i(de).aliPay,class:"avatar1",alt:""},null,8,K)):(n(),c(o,{key:1,class:"avatar-uploader-icon"},{default:f((()=>[m(Ee)])),_:1}))])),_:1},8,["action"])])),_:1})])),_:1}),m(F,{span:4},{default:f((()=>[m(w,{label:"微信"},{default:f((()=>[m(u,{class:"avatar-uploader1","show-file-list":!1,action:i(se),"before-upload":ge,"http-request":ce},{default:f((()=>[i(de).weixinPay?(n(),p("img",{key:0,style:{width:"100px",height:"100px"},src:i(de).weixinPay,class:"avatar1",alt:""},null,8,X)):(n(),p("i",$))])),_:1},8,["action"])])),_:1})])),_:1})])),_:1}),m(Q,{gutter:24},{default:f((()=>[m(w,{label:"网站评论"},{default:f((()=>[(n(!0),p(h,null,y(i(re),(e=>(n(),c(Ue,{key:e.id,modelValue:i(de).openComment,"onUpdate:modelValue":l[11]||(l[11]=e=>i(de).openComment=e),label:parseInt(e.value),border:""},{default:f((()=>[_(g(e.label),1)])),_:2},1032,["modelValue","label"])))),128))])),_:1})])),_:1}),m(Q,{gutter:24},{default:f((()=>[m(w,{label:"网站打赏"},{default:f((()=>[(n(!0),p(h,null,y(i(re),(e=>(n(),c(Ue,{key:e.id,modelValue:i(de).openAdmiration,"onUpdate:modelValue":l[12]||(l[12]=e=>i(de).openAdmiration=e),label:parseInt(e.value),border:""},{default:f((()=>[_(g(e.label),1)])),_:2},1032,["modelValue","label"])))),128))])),_:1})])),_:1}),m(w,null,{default:f((()=>[r((n(),c(we,{type:"primary",onClick:l[13]||(l[13]=e=>Ve())},{default:f((()=>[_("修 改")])),_:1})),[[Ce,["system:webConfig:update"]]])])),_:1})])),_:1},8,["model"])])),_:1}),m(Pe,null,{label:f((()=>[m(a,{"icon-class":"peoples"}),_(" 关注我们 ")])),default:f((()=>[m(xe,{style:{"margin-left":"20px"},"label-position":"left",model:i(de),"label-width":"80px",rules:i(pe),ref:"form"},{default:f((()=>[m(_e,{modelValue:i(ue),"onUpdate:modelValue":l[20]||(l[20]=e=>b(ue)?ue.value=e:null)},{default:f((()=>[m(w,{label:"邮箱",prop:"email"},{default:f((()=>[m(D,{modelValue:i(de).email,"onUpdate:modelValue":l[14]||(l[14]=e=>i(de).email=e),style:{width:"400px"}},null,8,["modelValue"]),m(ne,{value:"1",label:"在首页显示",style:{"margin-left":"10px"}})])),_:1}),m(w,{label:"QQ号",prop:"qqNumber"},{default:f((()=>[m(D,{modelValue:i(de).qqNumber,"onUpdate:modelValue":l[15]||(l[15]=e=>i(de).qqNumber=e),style:{width:"400px"}},null,8,["modelValue"]),m(ne,{value:"2",label:"在首页显示",style:{"margin-left":"10px"}})])),_:1}),m(w,{label:"QQ群",prop:"qqNumber"},{default:f((()=>[m(D,{modelValue:i(de).qqGroup,"onUpdate:modelValue":l[16]||(l[16]=e=>i(de).qqGroup=e),style:{width:"400px"}},null,8,["modelValue"]),m(ne,{value:"6",label:"在首页显示",style:{"margin-left":"10px"}})])),_:1}),m(w,{label:"github",prop:"github"},{default:f((()=>[m(D,{modelValue:i(de).github,"onUpdate:modelValue":l[17]||(l[17]=e=>i(de).github=e),style:{width:"400px"}},null,8,["modelValue"]),m(ne,{value:"3",label:"在首页显示",style:{"margin-left":"10px"}})])),_:1}),m(w,{label:"Gitee",prop:"gitee"},{default:f((()=>[m(D,{modelValue:i(de).gitee,"onUpdate:modelValue":l[18]||(l[18]=e=>i(de).gitee=e),style:{width:"400px"}},null,8,["modelValue"]),m(ne,{value:"4",label:"在首页显示",style:{"margin-left":"10px"}})])),_:1}),m(w,{label:"微信",prop:"wechat"},{default:f((()=>[m(D,{modelValue:i(de).wechat,"onUpdate:modelValue":l[19]||(l[19]=e=>i(de).wechat=e),style:{width:"400px"}},null,8,["modelValue"]),m(ne,{value:"5",label:"在首页显示",style:{"margin-left":"10px"}})])),_:1})])),_:1},8,["modelValue"]),m(w,null,{default:f((()=>[r((n(),c(we,{type:"primary",onClick:l[21]||(l[21]=e=>Ve())},{default:f((()=>[_("修 改")])),_:1})),[[Ce,["system:webConfig:update"]]])])),_:1})])),_:1},8,["model","rules"])])),_:1}),m(Pe,null,{label:f((()=>[m(o,null,{default:f((()=>[m(Ae)])),_:1}),_(" 发布公告 ")])),default:f((()=>[m(xe,{style:{"margin-left":"20px"},"label-position":"left",model:i(de),"label-width":"80px",ref:"from"},{default:f((()=>[m(Q,{gutter:24},{default:f((()=>[m(F,{span:10},{default:f((()=>[m(w,{label:"是否显示",prop:"newPwd2"},{default:f((()=>[m(ke,{modelValue:i(de).showBulletin,"onUpdate:modelValue":l[22]||(l[22]=e=>i(de).showBulletin=e),"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),m(Q,{gutter:24},{default:f((()=>[m(w,{label:"公告内容"},{default:f((()=>[m(D,{type:"textarea",rows:5,style:{width:"800px"},placeholder:"请输入公告内容",modelValue:i(de).bulletin,"onUpdate:modelValue":l[23]||(l[23]=e=>i(de).bulletin=e)},null,8,["modelValue"])])),_:1})])),_:1}),m(w,null,{default:f((()=>[r((n(),c(we,{type:"primary",onClick:l[24]||(l[24]=e=>Ve())},{default:f((()=>[_("修 改")])),_:1})),[[Ce,["system:webConfig:update"]]])])),_:1})])),_:1},8,["model"])])),_:1})])),_:1})])),[[qe,i(R),void 0,{fullscreen:!0,lock:!0}]])}}}),[["__scopeId","data-v-fba99048"]]);export{ee as default};
